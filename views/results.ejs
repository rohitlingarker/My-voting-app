<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
        <%=title%>
    </title>
    <link rel="stylesheet" href="./css/index.css">
</head>

<body>
    <%- include("header.ejs")%>

    
        <h2>Results</h2>

        <h3>
            <%=election.name%>
        </h3>
        <% if(messages && messages.error && messages.error.length > 0)  { %>
            <% for(var i=0; i<messages.error.length; i++) { %>
                    <li><%= messages.error[i] %></li>
            <% } %>
          <% } %>
        <% let questionNo=1 %>
            <% for(let i=0;i<questionsList.length;i++){ if(optionsList[questionsList[i].id]){ %>
                    <section>
                        <em>Question<%=questionNo%></em>
                        <b>
                            <%=questionsList[i].name%>
                        </b><br>
                        
                        <ul>
                        <%for(j in optionsList[questionsList[i].id]){%>
                            <li>
                                <p><%=optionsList[questionsList[i].id][j].name%>: <b><%=optionsList[questionsList[i].id][j].count%></b></p>
                            </li>
                            <%}%>
                        </ul>
                    </section>
                    
                    <% questionNo++; }}%>
                    
</body>

</html>